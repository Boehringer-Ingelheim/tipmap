<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Tipping point analysis for clinical trials that employ
    Bayesian dynamic borrowing via robust meta-analytic predictive (MAP)
    priors. Further functions facilitate expert elicitation of a primary
    weight of the informative component of the robust MAP prior and
    computation of operating characteristics. Intended use is the
    planning, analysis and interpretation of extrapolation studies in
    pediatric drug development, but applicability is generally wider.">
<title>Tipping Point Analysis for Bayesian Dynamic Borrowing â€¢ tipmap</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Tipping Point Analysis for Bayesian Dynamic Borrowing">
<meta property="og:description" content="Tipping point analysis for clinical trials that employ
    Bayesian dynamic borrowing via robust meta-analytic predictive (MAP)
    priors. Further functions facilitate expert elicitation of a primary
    weight of the informative component of the robust MAP prior and
    computation of operating characteristics. Intended use is the
    planning, analysis and interpretation of extrapolation studies in
    pediatric drug development, but applicability is generally wider.">
<meta property="og:image" content="https://boehringer-ingelheim.github.io/tipmap/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">tipmap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/expert_elicitation.html">Specifying a primary weight of the informative prior component</a>
    <a class="dropdown-item" href="articles/introduction.html">Introduction to the 'tipmap' package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Boehringer-Ingelheim/tipmap/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="tipmap-">tipmap <a class="anchor" aria-label="anchor" href="#tipmap-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The <code>tipmap</code>-package facilitates the planning and analysis of partial extrapolation studies in pediatric drug development. It provides an implementation of a Bayesian tipping point approach that can be used in analyses based on robust meta-analytic predictive (MAP) priors. Further functions facilitate expert elicitation of a primary (pre-specified) weight of the informative component of the MAP prior and the computation of operating characteristics.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><strong>CRAN</strong></p>
<p>You can install the current stable version from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"tipmap"</span><span class="op">)</span></span></code></pre></div>
<p><strong>GitHub</strong></p>
<p>You can install the current development version from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span><span class="op">}</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Boehringer-Ingelheim/tipmap"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>Load the package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Boehringer-Ingelheim/tipmap" class="external-link">tipmap</a></span><span class="op">)</span></span></code></pre></div>
<p>The prior data (collected in the source population):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_prior_data.html">create_prior_data</a></span><span class="op">(</span></span>
<span>  n_total <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">160</span>, <span class="fl">240</span>, <span class="fl">320</span><span class="op">)</span>,</span>
<span>  est <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.23</span>, <span class="fl">1.40</span>, <span class="fl">1.51</span><span class="op">)</span>,</span>
<span>  se <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.36</span>, <span class="fl">0.31</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The data from the new trial (collected in the target population):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ped_trial</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_new_trial_data.html">create_new_trial_data</a></span><span class="op">(</span></span>
<span>  n_total <span class="op">=</span> <span class="fl">30</span>, </span>
<span>  est <span class="op">=</span> <span class="fl">1.27</span>, </span>
<span>  se <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Derivation of the meta-analytic predictive (MAP) prior:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">uisd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">ped_trial</span><span class="op">[</span><span class="st">"n_total"</span><span class="op">]</span><span class="op">)</span> <span class="op">*</span> <span class="va">ped_trial</span><span class="op">[</span><span class="st">"se"</span><span class="op">]</span></span>
<span><span class="va">g_map</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">RBesT</span><span class="fu">::</span><span class="fu"><a href="https://opensource.nibr.com/RBesT/reference/gMAP.html" class="external-link">gMAP</a></span><span class="op">(</span></span>
<span>    formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">est</span>, <span class="va">se</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">|</span> <span class="va">study_label</span>,</span>
<span>    data <span class="op">=</span> <span class="va">prior_data</span>,</span>
<span>    family <span class="op">=</span> <span class="va">gaussian</span>,</span>
<span>    weights <span class="op">=</span> <span class="va">n_total</span>,</span>
<span>    tau.dist <span class="op">=</span> <span class="st">"HalfNormal"</span>,</span>
<span>    tau.prior <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">uisd</span> <span class="op">/</span> <span class="fl">16</span><span class="op">)</span>,</span>
<span>    beta.prior <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">uisd</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map_prior</span> <span class="op">&lt;-</span> <span class="fu">RBesT</span><span class="fu">::</span><span class="fu"><a href="https://opensource.nibr.com/RBesT/reference/automixfit.html" class="external-link">automixfit</a></span><span class="op">(</span></span>
<span>  sample <span class="op">=</span> <span class="va">g_map</span>,</span>
<span>  Nc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>  k <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  thresh <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Computing the posterior distribution for weights of the informative component of the MAP prior ranging from 0 to 1:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">posterior</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_posterior_data.html">create_posterior_data</a></span><span class="op">(</span></span>
<span>  map_prior <span class="op">=</span> <span class="va">map_prior</span>,</span>
<span>  new_trial_data <span class="op">=</span> <span class="va">ped_trial</span>,</span>
<span>  sigma <span class="op">=</span> <span class="va">uisd</span><span class="op">)</span></span></code></pre></div>
<p>Creating data for a tipping point analysis (tipping point plot):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tipmap_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/create_tipmap_data.html">create_tipmap_data</a></span><span class="op">(</span></span>
<span>  new_trial_data <span class="op">=</span> <span class="va">ped_trial</span>,</span>
<span>  posterior <span class="op">=</span> <span class="va">posterior</span>,</span>
<span>  map_prior <span class="op">=</span> <span class="va">map_prior</span><span class="op">)</span></span></code></pre></div>
<p>Create tipping point plot:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tipmap_plot.html">tipmap_plot</a></span><span class="op">(</span>tipmap_data <span class="op">=</span> <span class="va">tipmap_data</span><span class="op">)</span></span></code></pre></div>
<p>Get tipping points:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_tipping_points.html">get_tipping_points</a></span><span class="op">(</span></span>
<span>  <span class="va">tipmap_data</span>, </span>
<span>  quantile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.025</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span><span class="op">)</span>, </span>
<span>  null_effect <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="citing-tipmap">Citing <code>tipmap</code>
<a class="anchor" aria-label="anchor" href="#citing-tipmap"></a>
</h2>
<p>To cite <code>tipmap</code> in publications please use: Christian Stock and Morten Dreher (2023). tipmap: Tipping Point Analysis for Bayesian Dynamic Borrowing. R package version 0.5.2. URL: <a href="https://CRAN.R-project.org/package=tipmap" class="external-link uri">https://CRAN.R-project.org/package=tipmap</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=tipmap" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/Boehringer-Ingelheim/tipmap/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/Boehringer-Ingelheim/tipmap/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>Apache License 2.0</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing tipmap</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Christian Stock <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-3493-3234" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Morten Dreher <br><small class="roles"> Author </small>  </li>
<li> Boehringer Ingelheim Pharma GmbH &amp; Co. KG <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg"></a></li>
<li><a href="https://cran.r-project.org/package=tipmap" class="external-link"><img src="https://www.r-pkg.org/badges/version/tipmap"></a></li>
<li><a href="https://cran.r-project.org/package=tipmap" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/last-month/tipmap"></a></li>
<li><a href="https://cran.r-project.org/package=tipmap" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/tipmap"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Christian Stock, Morten Dreher, Boehringer Ingelheim Pharma GmbH &amp; Co.Â KG.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
